# Speckle Pattern Generator  <img src="assets/logo.png" alt="Description" width="100" height="100">

Speckle Pattern Generator 2025 v1.0 by Rodrigo Parrilla Mesas is a free open-source application. It allows the user to generate a wide variety of speckle patterns used in Digital Image Correlation. 
Patterns are generated by introducing several control parameters and pushing the Regenerate button. A default pattern is generated as soon as the application is opened. 

[![Download](https://img.shields.io/badge/Download-Latest_Release-blue?style=for-the-badge&logo=github)](https://github.com/rodrigoparri/Speckle_Pattern_Generator/releases/tag/Latest_Releases)  
         

**The installer is unsigned so your OS might complain.**

## Parameters and speckle generator algorithm
The parameter box contains seven control parameters which are:
1.	Image height: in millimetres
2.	Image width: in millimetres
3.	Maximum speckle diameter: in millimetres
4.	Minimum speckle diameter: in millimetres
5.	Image resolution: in dots per inch
6.	Grid step: Axis separation as a percentage of the maximum diameter of the speckle
7.	Position randomness: Is the radius around its original position in the grid a speckle could be moved to as a percentage of the maximum diameter.

![GUI.jpg](Readme_images/GUI.jpg)

The pattern generator algorithm converts all the introduced values from millimetres to dots using the resolution parameter. Initially the returned image is a white image of the requested size plus some padding so there are no out of bounds writing problems. The image has to be divided by a square grid in whose nodes the speckles will be centered.
 
Next, a brand knew speckle buffer is created where all the unique speckles will be stored. Each unique speckle has a different diameter according to the maximum and minimum diameter specifications. One unique speckle is randomly selected from the speckle buffer and positioned in the grid; some random noise is added to its position according to the position randomness parameter.

Finally, the image is cropped to the required size and sent to the app for its rendering.
The pattern generator algorithm makes use of a simpler algorithm that generates each individual speckle. This algorithm creates an array of pixels the size of the maximum speckle diameter and paints black each pixel that is a speckle radius or less away from the centre of the image. Each unique speckle is created this way and the stored in the speckle buffer.

## Generate
When you press the Regenerate button the introduced parameters are gathered and passed to the speckle generator algorithm, the returned array is passed to the image widget, the one in charge of the rendering process. Although the parameters might be the same, no two image will be the same because of the implicit randomness in the generation process.

The inverse button will switch the pixels from black to white and white to black. The regenerated image is a non-inverse one.

The set defaults button resets the parameters to the default values (the ones the application started with).

## Results
1. Density: Percentage of speckle pixels over the total amount of pixels  

    $Density =\frac{\text{Nº of Speckle pixels (initially black)}}{\text{width(px)} \times \text{height(px)}} \times 100$

2. MIG: Mean Intensity Gradient  
$MIG = \frac{ \sum_{i=0}^{W(px)} \sum_{j=0}^{H(px)} 
\sqrt{ \left( \frac{\partial I}{\partial i} \right)^2 + \left( \frac{\partial I}{\partial j} \right)^2 } }
{W(px) \cdot H(px)}$

Where:  
• I is the intensity function defined by the image  
• i, j are the parameters representing each pixel position in the image  
• W(px), H(px) are the width and height in pixels respectively of the image


